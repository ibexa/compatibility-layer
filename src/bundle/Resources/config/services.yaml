services:
    # default configuration for services in *this* file
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true

    Ibexa\CompatibilityLayer\Event\EventDispatcher:
        decorates: 'event_dispatcher'
        arguments:
            $innerEventDispatcher: '@.inner'

    Ibexa\Bundle\CompatibilityLayer\Command\SymfonyConfigDebugCommand: ~

    Ibexa\Bundle\CompatibilityLayer\Command\SymfonyConfigDumpReferenceCommand: ~

    Ibexa\Bundle\CompatibilityLayer\Command\IbexaRebrandingCommand: ~

    Ibexa\Bundle\CompatibilityLayer\Twig\LegacyDesignThemeTemplateNameResolver: ~

    ibexa.compatibility.design_engine.legacy_twig_theme_loader:
        class: Ibexa\DesignEngine\Templating\Twig\TwigThemeLoader
        public: false
        arguments:
            $templateNameResolver: '@Ibexa\Bundle\CompatibilityLayer\Twig\LegacyDesignThemeTemplateNameResolver'
            $templatePathRegistry: '@ezdesign.template_path_registry'
            $innerFilesystemLoader: '@twig.loader.filesystem'
